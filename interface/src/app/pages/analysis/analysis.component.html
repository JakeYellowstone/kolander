<div class="analysis-page animate-fadeInUp">
    <div class="page-header">
        <h1>Analyse Menace</h1>
        <p>Chargez les donnÃ©es EDR pour une analyse de sÃ©curitÃ© basÃ©e sur l'IA</p>
    </div>

    <div class="analysis-workflow">
        <!-- Step 1: File Upload -->
        <div class="workflow-step" [class.completed]="uploadCompleted">
            <div class="step-header">
                <div class="step-number">1</div>
                <h2>Charger DonnÃ©es EDR</h2>
            </div>
            <app-file-upload (fileUploaded)="onFileUploaded($event)" (uploadProgress)="onUploadProgress($event)">
            </app-file-upload>
        </div>

        <!-- Step 2: Processing -->
        <div class="workflow-step" [class.active]="isProcessing" [class.completed]="analysisCompleted">
            <div class="step-header">
                <div class="step-number">2</div>
                <h2>Analyse IA</h2>
            </div>
            <div class="processing-panel card" *ngIf="isProcessing || analysisCompleted">
                <div class="processing-status">
                    <div class="loading" *ngIf="isProcessing"></div>
                    <div class="process-steps">
                        <div class="process-step" [class.completed]="processSteps.parsing">
                            <span class="step-icon">ðŸ“Š</span>
                            <span>RÃ©cupÃ©ration DonnÃ©es</span>
                        </div>
                        <div class="process-step" [class.completed]="processSteps.binaryPrediction">
                            <span class="step-icon">ðŸ¤–</span>
                            <span>Classification Binaire</span>
                        </div>
                        <div class="process-step" [class.completed]="processSteps.priorityClassification">
                            <span class="step-icon">ðŸŽ¯</span>
                            <span>Priorisation Alertes</span>
                        </div>
                        <div class="process-step" [class.completed]="processSteps.groupModulation">
                            <span class="step-icon">ðŸ‘¥</span>
                            <span>Modulation PrioritÃ© Groupe</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 3: Results -->
        <div class="workflow-step" [class.active]="analysisCompleted">
            <div class="step-header">
                <div class="step-number">3</div>
                <h2>RÃ©sultats Analyse</h2>
            </div>
            <app-results-table *ngIf="analysisCompleted" [results]="analysisResults" [totalProcessed]="totalProcessed"
                [threatsDetected]="threatsDetected">
            </app-results-table>
        </div>
    </div>
</div>