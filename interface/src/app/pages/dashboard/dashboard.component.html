<div class="dashboard animate-fadeInUp">
    <div class="dashboard-header">
        <h1>Tableau de Bord</h1>
        <p>Aper√ßu du Threat Intelligence en temps r√©el</p>
    </div>

    <div class="stats-grid grid grid-3">
        <div class="stat-card card">
            <div class="stat-icon">üõ°Ô∏è</div>
            <div class="stat-content">
                <h3>{{ stats.totalAnalyses }}</h3>
                <p>Analyses Effectu√©es</p>
            </div>
        </div>

        <div class="stat-card card priority-high">
            <div class="stat-icon">üö®</div>
            <div class="stat-content">
                <h3>{{ stats.totalAlerts }}</h3>
                <p>Menaces D√©tect√©es</p>
            </div>
        </div>

        <div class="stat-card card priority-medium">
            <div class="stat-icon">üìä</div>
            <div class="stat-content">
                <h3>{{ stats.detectionRate }}%</h3>
                <p>Taux de D√©tection</p>
            </div>
        </div>
    </div>

    <div class="stats-grid grid grid-3" style="margin-bottom: 2rem;">
        <div class="stat-card card priority-high">
            <div class="stat-icon">üî¥</div>
            <div class="stat-content">
                <h3>{{ stats.highPriorityAlerts }}</h3>
                <p>Priorit√© Haute</p>
            </div>
        </div>

        <div class="stat-card card priority-medium">
            <div class="stat-icon">üü°</div>
            <div class="stat-content">
                <h3>{{ stats.mediumPriorityAlerts }}</h3>
                <p>Priorit√© Moyenne</p>
            </div>
        </div>

        <div class="stat-card card priority-low">
            <div class="stat-icon">üü¢</div>
            <div class="stat-content">
                <h3>{{ stats.lowPriorityAlerts }}</h3>
                <p>Priorit√© Basse</p>
            </div>
        </div>
    </div>

    <div class="dashboard-content grid grid-2">
        <div class="panel card">
            <h2>√âtat du Syst√®me</h2>
            <div class="system-status">
                <div class="status-item">
                    <span class="status-label">Backend API</span>
                    <span class="status-value" [class.online]="systemStatus.backendConnected"
                        [class.offline]="!systemStatus.backendConnected">
                        {{ systemStatus.backendConnected ? 'Connect√©' : 'D√©connect√©' }}
                    </span>
                </div>
                <div class="status-item">
                    <span class="status-label">Mod√®les ML</span>
                    <span class="status-value" [class.online]="systemStatus.modelsLoaded"
                        [class.offline]="!systemStatus.modelsLoaded">
                        {{ systemStatus.modelsLoaded ? 'Charg√©s' : 'Non charg√©s' }}
                    </span>
                </div>
                <div class="status-item">
                    <span class="status-label">Configuration</span>
                    <span class="status-value" [class.online]="systemStatus.configLoaded"
                        [class.offline]="!systemStatus.configLoaded">
                        {{ systemStatus.configLoaded ? 'Charg√©e' : 'Par d√©faut' }}
                    </span>
                </div>
                <div class="status-item">
                    <span class="status-label">Statistiques</span>
                    <span class="status-value" [class.online]="systemStatus.statsLoaded"
                        [class.offline]="!systemStatus.statsLoaded">
                        {{ systemStatus.statsLoaded ? 'Persistantes' : 'Temporaires' }}
                    </span>
                </div>
                <div class="status-item">
                    <span class="status-label">Derni√®re Mise √† Jour</span>
                    <span class="status-value online">
                        {{ systemStatus.lastUpdate | date:'short' }}
                    </span>
                </div>
            </div>
        </div>

        <div class="panel card">
            <h2>Notifications Syst√®me</h2>
            <div class="recent-alerts">
                <div *ngFor="let alert of recentAlerts" class="alert-item" [ngClass]="'priority-' + alert.priority">
                    <div class="alert-info">
                        <h4>{{ alert.group }}</h4>
                        <p>{{ alert.description }}</p>
                        <small>{{ alert.timestamp | date:'short' }}</small>
                    </div>
                    <div class="alert-severity">
                        <span class="severity-badge" [ngClass]="'severity-' + alert.severity.toLowerCase()">
                            {{ alert.severity }}
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="quick-actions">
        <h2>Actions Rapides</h2>
        <div class="actions-grid grid grid-4">
            <button class="action-btn btn" routerLink="/analysis">
                üìä Faire Analyse
            </button>
            <button class="action-btn btn btn-success" routerLink="/config">
                ‚öôÔ∏è Configurer
            </button>
            <button class="action-btn btn btn-danger" (click)="refreshData()">
                üîÑ Actualiser
            </button>
            <button class="action-btn btn btn-danger" (click)="resetStats()">
                üóëÔ∏è R√©initialiser
            </button>
        </div>
    </div>
</div>
<app-confirm *ngIf="showConfirmReset" [message]="'√ätes-vous s√ªr de vouloir r√©initialiser toutes les statistiques ?'"
    (confirm)="onConfirmReset()" (cancel)="onCancelReset()">
</app-confirm>